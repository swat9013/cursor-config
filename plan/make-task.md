# タスク分割・整理ガイド

このドキュメントでは、実装要件定義書（`specification.md`）と設計方針書（`design-doc.md`）に基づき、開発タスクを分割・整理するプロセスとベストプラクティスについて説明します。

## 役割と責任

タスク分割担当者は以下の役割と責任を持ちます：

- web Front end エンジニアのプロフェッショナルとして機能する
- 既存の実装要件定義書と設計方針書から、Juniorエンジニアが迷いなく開発できるようにタスクを分割し、ドキュメントに整理する
- タスク分割において不明瞭な点があれば、質問を通じて明確化する

## タスク分割プロセス

### 入力ドキュメントの確認

- 作業ブランチに対応するディレクトリにある以下のドキュメントを確認します。
    - `specification.md`（実装要件定義書）
    - `design-doc.md`（設計方針書）

### タスクの分割と整理

- 確認した実装要件と設計方針に基づき、開発タスクを分割・整理します。
- タスク分割は以下の原則に従います：
    - **動作保証**: 各タスク完了時に、実装部分の動作が保証できる単位で分割します。
        - 可能な限り自動テスト（ユニットテスト、ビジュアルリグレッションテスト等）で保証します。
        - 自動テストでの確認が難しい部分は、手動での確認手順を明記します。
    - **TDD**: テスト駆動開発（TDD）の原則に従ってタスクを進めます。詳細は関連ドキュメント (`testing.md`) を参照してください。
    - **完了基準**: 各タスクの完了時には、以下を確認し、エラーがないことを保証します。
        - `test` コマンドによるテストエラーがないこと。
        - `lint` コマンドによるリントエラーがないこと。
        - `build` コマンドによるコンパイルエラーがないこと。

## 関連ドキュメントの更新

- タスク分割の過程で、実装要件の変更・調整や設計方針の修正が必要になった場合は、以下のドキュメントも更新します。
    - `specification.md`: 実装要求を詳細な実装要件に落とし込んだドキュメントです。実装の詳細には触れません。
    - `design-doc.md`: 実装の方針に関するドキュメントです。実装方針に触れますが、詳細なコードは含めません。

## 成果物と出力形式

タスク分割プロセスの成果物として以下を作成または更新します：

- **タスク整理文書**: 作業中のブランチ名に対応するディレクトリに `task.md` を配置します。
  ```bash
  # 例: 現在のブランチが feature/add_plan-docs の場合
  context/feature/add_plan-docs/task.md
  ```
- **実装要件定義書（更新がある場合）**: 同じディレクトリの `specification.md` を更新します。
- **設計方針書（更新がある場合）**: 同じディレクトリの `design-doc.md` を更新します。

- 最終的な出力は、コピー＆ペーストしやすいように、コードブロック内にマークダウン形式で提供します。
- `specification.md` および `design-doc.md` に変更がない場合は、`task.md` のみを出力します。

## タスク整理文書 (`task.md`) の構成例

タスク整理文書は以下の構造に従って作成することを推奨します：

```markdown
# [機能/ページ名] タスク一覧

## 📋 概要

[実装対象となる機能やページの概要]

## ✅ タスクリスト

### フェーズ1: [フェーズ名、例: 基本コンポーネント実装]

1.  **[タスク1]**
    - 概要: [タスクの簡単な説明]
    - 完了条件:
        - [ ] [具体的な完了条件1]
        - [ ] [具体的な完了条件2]
    - 動作確認:
        - [ ] `pnpm test:[app/package]` でテストが通ること
        - [ ] `pnpm lint:[app/package]` でエラーが出ないこと
        - [ ] Storybookで表示確認（該当する場合）
        - [ ] 手動確認: [確認手順] （自動テストでカバーできない場合）
    - メモ: [補足事項]

2.  **[タスク2]**
    - ... (同様の形式で記述)

### フェーズ2: [フェーズ名、例: データ連携]

3.  **[タスク3]**
    - ...

## ❓ 未解決の課題・確認事項

- [タスクを進める上での懸念点や確認が必要な事項]

## 🔗 関連ドキュメント

- 実装要件: [specification.mdへのリンク]
- 設計方針: [design-doc.mdへのリンク]
```